\documentclass[12pt, titlepage]{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=red,
    urlcolor=blue
}
\usepackage[round]{natbib}
\usepackage{fullpage}
\usepackage{scrextend}

\newcommand{\progname}{SpecGen}

\newcounter{testnum} %Instance Number
\newcommand{\tthetestnum}{T\thetestnum}
\newcommand{\testref}[1]{T\ref{#1}}
\newcommand{\sref}[1]{\S~\ref{#1}}

\input{../Comments}

\begin{document}
\pagenumbering{gobble}

\title{CAS 741: Test Plan\\[10pt]\Large Aqueous Speciation Diagram Generator}
\author{Steven Palmer\\\texttt{palmes4}}
\date{\today}
	
\maketitle

\pagenumbering{roman}

\setcounter{secnumdepth}{0}

\section{Revision History}

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
\midrule
10.13.2017 & S. Palmer & First revision of document\\
\bottomrule
\end{tabularx}
\end{table}

~\newpage


\section{Symbols, Abbreviations and Acronyms}

\renewcommand{\arraystretch}{1.2}
\begin{tabular}{l l} 
  \toprule		
  \textbf{symbol} & \textbf{description}\\
  \midrule
  \progname{} & The Aqueous Speciation Diagram Generator program\\  
  SRS & Software Requirements Specification\\
  T & Test\\
  \bottomrule
\end{tabular}\\

\newpage

\tableofcontents


\newpage


\pagenumbering{arabic}

\setcounter{secnumdepth}{3}

\section{General Information}

This document provides a detailed description of the testing that will be 
carried out on the Aqueous Speciation Diagram Generator program (herein referred 
to as \progname{}).  

\subsection{Purpose}
The purpose of this document is to provide a comprehensive plan for testing the 
\progname{} software against the requirements described in the \progname{} SRS.

\subsection{Scope}
The test plan is narrowed to the following scope:
\begin{itemize}
\item The tests outlined in this document are limited to the verification of the 
  requirements given in the \progname{} SRS.  There is no explicit testing plan 
  for the validation of the requirements.
\item The tests outlined in this document are limited to dynamic tests only.  
  Static tests (code review, syntax checking, etc.) will be carried out as the 
  \progname{} software is developed, but are not explicitly listed/described.
\item The \progname{} software will be written in Python.  The testing of 
  implementations in other languages will not be considered in this document.
\end{itemize}

\section{Plan}
\label{SecPlan}
	
\subsection{Software Description}
Chemical speciation refers to the stable (equilibrium) distribution of chemical 
species in a given chemical system.   Speciation diagrams, which plot species 
concentrations against an independently varied parameter of the system, are 
useful tools for displaying speciation data in a concise and easy to use format.  

\progname{} will produce a speciation diagram given a set of chemical reactions, 
equilibrium constants, and element totals that define a chemical system.  
\progname{} will be specific to speciation of ions in aqueous systems under 
varying pH, which is of particular importance in the fields of aqueous process 
engineering and hydrometallurgy.  The diagram generated by \progname{} will plot 
speciation of all aqueous species (excluding H$^+$ and OH$^-$) across the pH 
range 0 to 14.

\subsection{Test Team}
The test team includes the following members:
\begin{itemize}
\item Steven Palmer
\end{itemize}

\subsection{Automated Testing Approach}
The majority of testing for \progname{} will be carried out using automated unit 
tests (both true unit tests as well as integration tests). Since \progname{} is 
small in scope and will be implemented by a single developer, other forms of 
automated testing (continuous integration, regression testing, etc.) will not 
be considered.

A test coverage analysis of the automated testing will also be carried out to 
ensure that testing is as complete as possible.  The target for this analysis 
is 100\% statement coverage.  \spc{Since \progname{} will be relatively small, 
an expectation of 100\% coverage is not unreasonable?}

\subsection{Verification Tools}
The following tools will be used to facilitate testing:

\begin{enumerate}
\item {\bf PyUnit} (a unit testing framework for Python) will be used to write 
  and run unit tests
\item {\bf Coverage.py} will be used to assess test coverage
\item {\bf make} will be used to automate the building and execution of the test 
  program
\end{enumerate}



\subsection{Non-Testing Based Verification}
N/A

\section{System Test Description}
\spc{Intial states, inputs, outputs will be formalized as implementation 
  proceeds.}	
\subsection{Tests for Functional Requirements}

\subsubsection{Input Testing}

\noindent {\bf Equation Parser Tests}\\
\begin{addmargin}[2em]{0em}
\noindent {\bf T\refstepcounter{testnum}\thetestnum \label{T_In_EPG}: Equation 
  Parser, General}\\
\begin{addmargin}[2em]{0em}
\begin{description}
\item[Type:] Functional, Automatic, Unit
					
\item[Initial State:] ?
					
\item[Input:] String representation of chemical reaction
					
\item[Output:] Data structure of reaction equation components
					
\item[How test will be performed:] Automated unit test \\
\end{description}
\end{addmargin}			
\noindent {\bf T\refstepcounter{testnum}\thetestnum \label{T_In_EPE1}: Equation 
  Parser, Edge Case 1}\\
\begin{addmargin}[2em]{0em}
\begin{description}
\item[Type:] Functional, Automatic, Unit
					
\item[Initial State:] ?
					
\item[Input:] String representation of chemical equation that hits edges cases 
  (want full coverage)
					
\item[Output:] Data structure of reaction equation components
					
\item[How test will be performed:] Automated unit test\\
\end{description}
\end{addmargin}
\noindent \spc{Edge cases will be added during implementation (after data 
structures and exact format of input is decided).  For simplicity going forward, 
edge cases are ignored (since at this point I don't know the number/nature of 
the edge cases).  They will be added as the implementation is developed.}\\

\noindent {\bf T\refstepcounter{testnum}\thetestnum \label{T_In_IDS}: Input Data 
Structure}\\
\begin{addmargin}[2em]{0em}
\begin{description}
\item[Type:] Functional, Automatic, Unit
					
\item[Initial State:] ?
					
\item[Input:] Input data (?)
					
\item[Output:] Data structure works -- probably several tests
					
\item[How test will be performed:] Automated unit test\\
\end{description}
\end{addmargin}

\spc{Unit tests + integration tests?}\\
\noindent {\bf T\refstepcounter{testnum}\thetestnum \label{T_In_EPG_I}: Equation 
Parser, Integration}\\
\begin{addmargin}[2em]{0em}
\begin{description}
\item[Type:] Functional, Automatic, Integration
					
\item[Initial State:] ?
					
\item[Input:] Input file with general chemical reaction
					
\item[Output:] Data structure of reaction equation components
					
\item[How test will be performed:] Automated integration test \\
\end{description}
\end{addmargin}	

\noindent {\bf T\refstepcounter{testnum}\thetestnum \label{T_In_IDS_I}: Input 
Data Structure, Integration}\\
\begin{addmargin}[2em]{0em}
\begin{description}
\item[Type:] Functional, Automatic, Integration
					
\item[Initial State:] ?
					
\item[Input:] Input file
					
\item[Output:] Data structure works -- probably several tests
					
\item[How test will be performed:] Automated integration test\\
\end{description}
\end{addmargin}		

\end{addmargin}



\subsubsection{Derived Input Testing}

\noindent {\bf Derived Species Tests}\\
\begin{addmargin}[2em]{0em}
\noindent {\bf T\refstepcounter{testnum}\thetestnum \label{T_DIn_SL}: Species 
List from Equation}\\
\begin{addmargin}[2em]{0em}
\begin{description}
\item[Type:] Functional, Automatic, Unit
					
\item[Initial State:] ?
					
\item[Input:] String representation of chemical reaction
					
\item[Output:] List of species contained in reaction
					
\item[How test will be performed:] Automated unit test\\
\end{description}
\end{addmargin}

\noindent {\bf T\refstepcounter{testnum}\thetestnum \label{T_DIn_SL_I}: Species 
List from Equation, Integration}\\
\begin{addmargin}[2em]{0em}
\begin{description}
\item[Type:] Functional, Automatic, Integration
					
\item[Initial State:] ?
					
\item[Input:] Input file
					
\item[Output:] List of species contained in reaction
					
\item[How test will be performed:] Automated integration test\\
\end{description}
\end{addmargin}
\end{addmargin}

\subsubsection{Input Constraint Testing}

\noindent {\bf Element Concentration Tests}\\
\begin{addmargin}[2em]{0em}
\noindent {\bf T\refstepcounter{testnum}\thetestnum \label{T_CIn_ECNeg}: 
Negative Element Total Concentration}\\
\begin{addmargin}[2em]{0em}
\begin{description}
\item[Type:] Functional, Automatic, Unit
					
\item[Initial State:] ?
					
\item[Input:] Negative concentration
					
\item[Output:] Error
					
\item[How test will be performed:] Automated unit test\\
\end{description}
\end{addmargin}

\noindent {\bf T\refstepcounter{testnum}\thetestnum \label{T_CIn_ECZero}: Zero 
Element Total Concentration}\\
\begin{addmargin}[2em]{0em}
\begin{description}
\item[Type:] Functional, Automatic, Unit
					
\item[Initial State:] ?
					
\item[Input:] Zero concentration
					
\item[Output:] Error
					
\item[How test will be performed:] Automated unit test\\
\end{description}
\end{addmargin}

\noindent {\bf T\refstepcounter{testnum}\thetestnum \label{T_CIn_ECPos}: 
Positive Element Total Concentration}\\
\begin{addmargin}[2em]{0em}
\begin{description}
\item[Type:] Functional, Automatic, Unit
					
\item[Initial State:] ?
					
\item[Input:] Positive concentration
					
\item[Output:] Positive concentration
					
\item[How test will be performed:] Automated unit test\\
\end{description}
\end{addmargin}

\noindent {\bf T\refstepcounter{testnum}\thetestnum \label{T_CIn_EC_I}: Element 
Total Concentration, Integration}\\
\begin{addmargin}[2em]{0em}
\begin{description}
\item[Type:] Functional, Automatic, Integration
					
\item[Initial State:] ?
					
\item[Input:] Input file
					
\item[Output:] Concentration
					
\item[How test will be performed:] Automated integration test\\
\end{description}
\end{addmargin}
\end{addmargin}

\subsubsection{Input Conversion Testing}
\spc{\progname{} will convert inputs into a set of non-linear equations to be 
solved by a non-linear solver.  This will involve some sort of module/code, but 
none of this corresponds to an actual requirement.  Should I have explicit tests 
for this even though it doesn't map to a requirement?  Even without tests here, 
this will still end up being testing in the integration tests for calculations 
and output.}

\subsubsection{Calculation Testing}

\noindent {\bf Non-Linear Equation Solver Tests}\\
\begin{addmargin}[2em]{0em}
\noindent {\bf T\refstepcounter{testnum}\thetestnum \label{T_Calc_Solver}: 
Non-Linear Equation System Solution}\\
\begin{addmargin}[2em]{0em}
\begin{description}
\item[Type:] Functional, Automatic, Unit
					
\item[Initial State:] ?
					
\item[Input:] System of non-linear equations
					
\item[Output:] Solution that satisfies original system of equations
					
\item[How test will be performed:] Automated unit test\\
\end{description}
\end{addmargin}

\noindent {\bf T\refstepcounter{testnum}\thetestnum \label{T_Calc_Solver_I}: 
Non-Linear Equation System Solution, Integration}\\
\begin{addmargin}[2em]{0em}
\begin{description}
\item[Type:] Functional, Automatic, Integration
					
\item[Initial State:] ?
					
\item[Input:] Input file
					
\item[Output:] Solution that satisfies original system of equations
					
\item[How test will be performed:] Automated integration test\\
\end{description}
\end{addmargin}
\end{addmargin}

\subsubsection{Output Testing}

\noindent {\bf Speciation Diagram Generation Tests}\\
\begin{addmargin}[2em]{0em}
\noindent {\bf T\refstepcounter{testnum}\thetestnum \label{T_Out_SpecGen}: 
Speciation Diagram}\\
\begin{addmargin}[2em]{0em}
\begin{description}
\item[Type:] Functional, Manual, Unit
					
\item[Initial State:] ?
					
\item[Input:] Output specifications
					
\item[Output:] Speciation diagram
					
\item[How test will be performed:] The generated speciation diagram will be 
manually reviewed to ensure that it matches the specified output.\\
\end{description}
\end{addmargin}

\noindent {\bf T\refstepcounter{testnum}\thetestnum \label{T_Out_SpecGen_I}: 
Speciation Diagram, Integration}\\
\begin{addmargin}[2em]{0em}
\begin{description}
\item[Type:] Functional, Manual, Integration
					
\item[Initial State:] ?
					
\item[Input:] Input file
					
\item[Output:] Speciation diagram
					
\item[How test will be performed:] The generated speciation diagram will be 
manually reviewed to ensure that it matches the diagram expected by the input 
specifications.\\
\end{description}
\end{addmargin}
\end{addmargin}

\subsection{Tests for Nonfunctional Requirements}

\subsubsection{Output Readability Tests}
		
\noindent {\bf }
\begin{addmargin}[2em]{0em}
\noindent {\bf T\refstepcounter{testnum}\thetestnum \label{T_}: Readability of 
generated speciation diagram}\\
\begin{addmargin}[2em]{0em}
\begin{description}
\item[Type:] Nonfunctional, Manual
					
\item[Initial State:] ?
					
\item[Input:] Input file
					
\item[Output:] Speciation diagram
					
\item[How test will be performed:] This is a qualitative test to ensure that the 
diagrams generated by \progname{} are readable (axis labels visible, curves 
distinguishable from eachother, legend/labelling of curves, etc.).\\
\end{description}
\end{addmargin}

\end{addmargin}

\newpage
\section{Traceability Between Test Cases and Requirements}
A trace between tests and requirements is provided in 
\hyperref[tab:reqtrace]{Table~\ref*{tab:reqtrace}}.

\begin{table}[h]
\caption{Requirements Traceability} \label{tab:reqtrace}
\centering
\begin{tabularx}{0.55\textwidth}{p{4cm}X}
\toprule {\bf Requirement} & {\bf Test(s)}\\
\midrule
R1	&	\testref{T_In_EPG}, \testref{T_In_EPE1}, \testref{T_In_IDS}, 
      \testref{T_In_EPG_I}, \testref{T_In_IDS_I}\\
R2	&	\testref{T_DIn_SL}, \testref{T_DIn_SL_I}\\
R3	&	\testref{T_CIn_ECNeg}, \testref{T_CIn_ECZero}, \testref{T_CIn_ECPos}, 
      \testref{T_CIn_EC_I}\\
R4	&	\testref{T_Calc_Solver}, \testref{T_Calc_Solver_I}\\
R5	&	\testref{T_Out_SpecGen}, \testref{T_Out_SpecGen_I}\\
\bottomrule
\end{tabularx}
\end{table}

				
\section{Unit Testing Plan}
		
\wss{Unit testing plans for internal functions and, if appropriate, output
  files}
  
\spc{I'm not sure what goes here?  Unit tests are all described in the System 
  Test Description section.}

\bibliographystyle{plainnat}

\bibliography{SRS}

\end{document}